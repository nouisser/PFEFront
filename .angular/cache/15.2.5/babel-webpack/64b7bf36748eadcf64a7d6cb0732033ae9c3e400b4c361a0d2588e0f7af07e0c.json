{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../transaction-service.service\";\nimport * as i2 from \"@angular/common\";\nfunction SalesByMonthComponent_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaction_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.amount);\n  }\n}\nexport class SalesByMonthComponent {\n  constructor(transactionService) {\n    this.transactionService = transactionService;\n    this.transactions = [];\n    this.doughnutChartData = [];\n    this.doughnutChartLabels = [];\n    this.doughnutChartOptions = {\n      responsive: true,\n      maintainAspectRatio: false\n    };\n    this.doughnutChartColors = [{\n      backgroundColor: ['yellow', 'orange', 'blue']\n    }];\n    this.doughnutChartType = 'doughnut';\n  }\n  ngOnInit() {\n    this.transactionService.getTransactions().subscribe(transactions => {\n      this.transactions = transactions;\n      console.log(transactions);\n      this.updateChartData();\n    }, error => {\n      console.log('Error fetching transactions:', error);\n    });\n  }\n  updateChartData() {\n    const amounts = this.transactions.map(transaction => transaction.amount);\n    const dates = this.transactions.map(transaction => transaction.date);\n    this.doughnutChartData = [{\n      data: amounts,\n      label: 'Transaction Amount'\n    }];\n    this.doughnutChartLabels = dates;\n  }\n}\nSalesByMonthComponent.ɵfac = function SalesByMonthComponent_Factory(t) {\n  return new (t || SalesByMonthComponent)(i0.ɵɵdirectiveInject(i1.TransactionServiceService));\n};\nSalesByMonthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SalesByMonthComponent,\n  selectors: [[\"app-sales-by-month\"]],\n  decls: 9,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"]],\n  template: function SalesByMonthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n      i0.ɵɵtext(4, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\");\n      i0.ɵɵtext(6, \"Amount\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"tbody\");\n      i0.ɵɵtemplate(8, SalesByMonthComponent_tr_8_Template, 5, 2, \"tr\", 0);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.transactions);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\".chart-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9hZG1pbi1mZWF0dXJlcy9zYWxlcy1ieS1tb250aC9zYWxlcy1ieS1tb250aC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5jaGFydC1jb250YWluZXIge1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;IAQIA,0BAA6C;IACvCA,YAAsB;IAAAA,iBAAK;IAC/BA,0BAAI;IAAAA,YAAwB;IAAAA,iBAAK;;;;IAD7BA,eAAsB;IAAtBA,yCAAsB;IACtBA,eAAwB;IAAxBA,2CAAwB;;;ACElC,OAAM,MAAOC,qBAAqB;EAehCC,YAAoBC,kBAA6C;IAA7C,uBAAkB,GAAlBA,kBAAkB;IAdtC,iBAAY,GAAmB,EAAE;IACjC,sBAAiB,GAAoB,EAAE;IACvC,wBAAmB,GAAY,EAAE;IACjC,yBAAoB,GAAiB;MACnCC,UAAU,EAAE,IAAI;MAChBC,mBAAmB,EAAE;KACtB;IACD,wBAAmB,GAAU,CAC3B;MACEC,eAAe,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM;KAC7C,CACF;IACD,sBAAiB,GAAc,UAAU;EAE2B;EAEpEC,QAAQ;IACN,IAAI,CAACJ,kBAAkB,CAACK,eAAe,EAAE,CAACC,SAAS,CAChDC,YAA4B,IAAI;MAE/B,IAAI,CAACA,YAAY,GAAGA,YAAY;MAChCC,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;MACzB,IAAI,CAACG,eAAe,EAAE;IACxB,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEE,KAAK,CAAC;IACpD,CAAC,CACF;EACH;EAEAD,eAAe;IACb,MAAME,OAAO,GAAG,IAAI,CAACL,YAAY,CAACM,GAAG,CAAEC,WAAW,IAAKA,WAAW,CAACC,MAAM,CAAC;IAC1E,MAAMC,KAAK,GAAG,IAAI,CAACT,YAAY,CAACM,GAAG,CAAEC,WAAW,IAAKA,WAAW,CAACG,IAAI,CAAC;IAEtE,IAAI,CAACC,iBAAiB,GAAG,CAAC;MAAEC,IAAI,EAAEP,OAAO;MAAEQ,KAAK,EAAE;IAAoB,CAAE,CAAC;IACzE,IAAI,CAACC,mBAAmB,GAAGL,KAAK;EAClC;;;mBArCWlB,qBAAqB;AAAA;;QAArBA,qBAAqB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZlC7B,6BAAO;MAGGA,oBAAI;MAAAA,iBAAK;MACbA,0BAAI;MAAAA,sBAAM;MAAAA,iBAAK;MAGnBA,6BAAO;MACLA,oEAGK;MACPA,iBAAQ;;;MAJsBA,eAAe;MAAfA,0CAAe","names":["i0","SalesByMonthComponent","constructor","transactionService","responsive","maintainAspectRatio","backgroundColor","ngOnInit","getTransactions","subscribe","transactions","console","log","updateChartData","error","amounts","map","transaction","amount","dates","date","doughnutChartData","data","label","doughnutChartLabels","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\aicha\\Desktop\\pfe\\src\\app\\components\\admin\\admin-features\\sales-by-month\\sales-by-month.component.html","C:\\Users\\aicha\\Desktop\\pfe\\src\\app\\components\\admin\\admin-features\\sales-by-month\\sales-by-month.component.ts"],"sourcesContent":["<table>\r\n  <thead>\r\n    <tr>\r\n      <th>Date</th>\r\n      <th>Amount</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let transaction of transactions\">\r\n      <td>{{ transaction.date }}</td>\r\n      <td>{{ transaction.amount }}</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Transactions } from '../Transactions';\r\nimport { TransactionServiceService } from '../transaction-service.service';\r\nimport {  SingleDataSet } from 'ng2-charts';\r\nimport { ChartDataSets, ChartOptions, ChartType } from 'chart.js';\r\nimport { Label } from 'ng2-charts';\r\n\r\n@Component({\r\n  selector: 'app-sales-by-month',\r\n  templateUrl: './sales-by-month.component.html',\r\n  styleUrls: ['./sales-by-month.component.scss']\r\n})\r\nexport class SalesByMonthComponent implements OnInit {\r\n  transactions: Transactions[] = [];\r\n  doughnutChartData: ChartDataSets[] = [];\r\n  doughnutChartLabels: Label[] = [];\r\n  doughnutChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false\r\n  };\r\n  doughnutChartColors: any[] = [\r\n    {\r\n      backgroundColor: ['yellow', 'orange', 'blue']\r\n    }\r\n  ];\r\n  doughnutChartType: ChartType = 'doughnut';\r\n\r\n  constructor(private transactionService: TransactionServiceService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.transactionService.getTransactions().subscribe(\r\n      (transactions: Transactions[]) => {\r\n\r\n        this.transactions = transactions;\r\n        console.log(transactions)\r\n        this.updateChartData();\r\n      },\r\n      (error) => {\r\n        console.log('Error fetching transactions:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  updateChartData(): void {\r\n    const amounts = this.transactions.map((transaction) => transaction.amount);\r\n    const dates = this.transactions.map((transaction) => transaction.date);\r\n\r\n    this.doughnutChartData = [{ data: amounts, label: 'Transaction Amount' }];\r\n    this.doughnutChartLabels = dates;\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}