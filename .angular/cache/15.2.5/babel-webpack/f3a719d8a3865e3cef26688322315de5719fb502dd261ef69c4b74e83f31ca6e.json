{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../transaction-service.service\";\nimport * as i2 from \"ng2-charts\";\nexport class SalesByCategoryComponent {\n  constructor(taskService) {\n    this.taskService = taskService;\n    this.doughnutChartOptions = {\n      responsive: true,\n      legend: {\n        display: true\n      },\n      cutoutPercentage: 80\n    };\n    this.doughnutChartLabels = [];\n    this.doughnutChartData = [];\n    this.doughnutChartType = 'doughnut';\n    this.doughnutChartColors = [{\n      backgroundColor: ['#f68059', '#ffbf3a', '#4e3dc8']\n    }];\n    this.typeData = [];\n  }\n  ngOnInit() {\n    this.getTypePercentage();\n  }\n  getTypePercentage() {\n    this.doughnutChartData = [];\n    this.doughnutChartLabels = [];\n    this.taskService.getTypePercentage().subscribe(d => {\n      // console.log(d);\n      d.forEach(typeCount => {\n        console.log(typeCount.count);\n        console.log(typeCount.result);\n        this.doughnutChartData.push(typeCount.count);\n        this.doughnutChartLabels.push(typeCount.result);\n      });\n    }, error => {\n      console.error(error);\n    });\n  }\n}\nSalesByCategoryComponent.ɵfac = function SalesByCategoryComponent_Factory(t) {\n  return new (t || SalesByCategoryComponent)(i0.ɵɵdirectiveInject(i1.TransactionServiceService));\n};\nSalesByCategoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SalesByCategoryComponent,\n  selectors: [[\"app-sales-by-category\"]],\n  decls: 8,\n  vars: 5,\n  consts: [[1, \"home\"], [1, \"header\"], [1, \"content\"], [1, \"total-task-chart\"], [1, \"chart\"], [\"baseChart\", \"\", 3, \"data\", \"labels\", \"chartType\", \"options\", \"colors\"]],\n  template: function SalesByCategoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"Liste des transactions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4);\n      i0.ɵɵelement(7, \"canvas\", 5);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"data\", ctx.doughnutChartData)(\"labels\", ctx.doughnutChartLabels)(\"chartType\", ctx.doughnutChartType)(\"options\", ctx.doughnutChartOptions)(\"colors\", ctx.doughnutChartColors);\n    }\n  },\n  dependencies: [i2.BaseChartDirective],\n  styles: [\".chart[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n\\n.flash-container[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.flash[_ngcontent-%COMP%] {\\n  width: 60px;\\n  height: 50px;\\n  border-radius: 50px 50px 0 0;\\n  text-align: center;\\n  margin-right: 5px;\\n  font-weight: bold;\\n  font-size: 12px;\\n  line-height: 50px;\\n}\\n\\n.accepter[_ngcontent-%COMP%] {\\n  background-color: yellow;\\n  color: black;\\n}\\n\\n.refuser[_ngcontent-%COMP%] {\\n  background-color: orange;\\n  color: white;\\n}\\n\\n.en-attente[_ngcontent-%COMP%] {\\n  background-color: blue;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9hZG1pbi1mZWF0dXJlcy9zYWxlcy1ieS1jYXRlZ29yeS9zYWxlcy1ieS1jYXRlZ29yeS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsZ0NBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsNEJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLHdCQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0Usd0JBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxzQkFBQTtFQUNBLFlBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5jaGFydCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uZmxhc2gtY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiA1MCU7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG59XHJcblxyXG4uZmxhc2gge1xyXG4gIHdpZHRoOiA2MHB4O1xyXG4gIGhlaWdodDogNTBweDtcclxuICBib3JkZXItcmFkaXVzOiA1MHB4IDUwcHggMCAwO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XHJcbn1cclxuXHJcbi5hY2NlcHRlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xyXG4gIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLnJlZnVzZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IG9yYW5nZTtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5lbi1hdHRlbnRlIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;AAYA,OAAM,MAAOA,wBAAwB;EAmBnCC,YAAoBC,WAAqC;IAArC,gBAAW,GAAXA,WAAW;IAlBxB,yBAAoB,GAAiB;MAC1CC,UAAU,EAAE,IAAI;MAChBC,MAAM,EAAE;QACNC,OAAO,EAAE;OACV;MACDC,gBAAgB,EAAE;KACnB;IAEM,wBAAmB,GAAY,EAAE;IACjC,sBAAiB,GAAkB,EAAE;IACrC,sBAAiB,GAAc,UAAU;IACzC,wBAAmB,GAAY,CACpC;MACEC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS;KAClD,CACF;IAEM,aAAQ,GAA2B,EAAE;EACiB;EAE7DC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAEAA,iBAAiB;IACf,IAAI,CAACC,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACC,mBAAmB,GAAG,EAAE;IAC7B,IAAI,CAACT,WAAW,CAACO,iBAAiB,EAAE,CAACG,SAAS,CAC3CC,CAAC,IAAI;MACJ;MACAA,CAAC,CAACC,OAAO,CAAEC,SAA0B,IAAI;QACvCC,OAAO,CAACC,GAAG,CAACF,SAAS,CAACG,KAAK,CAAC;QAC5BF,OAAO,CAACC,GAAG,CAACF,SAAS,CAACI,MAAM,CAAC;QAC7B,IAAI,CAACT,iBAAiB,CAACU,IAAI,CAACL,SAAS,CAACG,KAAK,CAAC;QAC5C,IAAI,CAACP,mBAAmB,CAACS,IAAI,CAACL,SAAS,CAACI,MAAM,CAAC;MACjD,CAAC,CAAC;IACJ,CAAC,EACAE,KAAK,IAAI;MACRL,OAAO,CAACK,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;EACH;;;mBA1CWrB,wBAAwB;AAAA;;QAAxBA,wBAAwB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZrCC,8BAAkB;MAERA,sCAAsB;MAAAA,iBAAK;MAC/BA,8BAAqB;MAGfA,4BAES;MACXA,iBAAM;;;MAHcA,eAA0B;MAA1BA,4CAA0B","names":["SalesByCategoryComponent","constructor","taskService","responsive","legend","display","cutoutPercentage","backgroundColor","ngOnInit","getTypePercentage","doughnutChartData","doughnutChartLabels","subscribe","d","forEach","typeCount","console","log","count","result","push","error","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\aicha\\Desktop\\pfe\\src\\app\\components\\admin\\admin-features\\sales-by-category\\sales-by-category.component.ts","C:\\Users\\aicha\\Desktop\\pfe\\src\\app\\components\\admin\\admin-features\\sales-by-category\\sales-by-category.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { TransactionServiceService } from '../transaction-service.service';\r\nimport { ITypePercentage } from '../Transaction.interface';\r\nimport {  SingleDataSet } from 'ng2-charts';\r\nimport { Color, Label } from 'ng2-charts';\r\nimport { ChartOptions, ChartType } from 'chart.js';\r\n\r\n@Component({\r\n  selector: 'app-sales-by-category',\r\n  templateUrl: './sales-by-category.component.html',\r\n  styleUrls: ['./sales-by-category.component.scss']\r\n})\r\nexport class SalesByCategoryComponent implements OnInit {\r\n  public doughnutChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    legend: {\r\n      display: true,\r\n    },\r\n    cutoutPercentage: 80,\r\n  };\r\n  \r\n  public doughnutChartLabels: Label[] = [];\r\n  public doughnutChartData: SingleDataSet = [];\r\n  public doughnutChartType: ChartType = 'doughnut';\r\n  public doughnutChartColors: Color[] = [\r\n    {\r\n      backgroundColor: ['#f68059', '#ffbf3a', '#4e3dc8'],\r\n    },\r\n  ];\r\n  \r\n  public typeData: Array<ITypePercentage> = [];\r\n  constructor(private taskService:TransactionServiceService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getTypePercentage();\r\n  }\r\n\r\n  getTypePercentage() {\r\n    this.doughnutChartData = [];\r\n    this.doughnutChartLabels = [];\r\n    this.taskService.getTypePercentage().subscribe(\r\n      (d) => {\r\n        // console.log(d);\r\n        d.forEach((typeCount: ITypePercentage) => {\r\n          console.log(typeCount.count);\r\n          console.log(typeCount.result);\r\n          this.doughnutChartData.push(typeCount.count);\r\n          this.doughnutChartLabels.push(typeCount.result);\r\n        });\r\n      },\r\n      (error) => {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n}","<div class=\"home\">\r\n    <div class=\"header\">\r\n      <h1>Liste des transactions</h1>\r\n      <div class=\"content\">\r\n        <div class=\"total-task-chart\">\r\n          <div class=\"chart\">\r\n            <canvas baseChart [data]=\"doughnutChartData\" [labels]=\"doughnutChartLabels\" [chartType]=\"doughnutChartType\"\r\n              [options]=\"doughnutChartOptions\" [colors]=\"doughnutChartColors\">\r\n            </canvas>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}