{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../transaction-service.service\";\nimport * as i2 from \"ng2-charts\";\nexport class SalesByMonthComponent {\n  constructor(taskService) {\n    this.taskService = taskService;\n    this.lineChartData = [];\n    this.lineChartLabels = [];\n    this.lineChartOptions = {\n      responsive: true\n    };\n    this.lineChartColors = [{\n      borderColor: 'black',\n      backgroundColor: 'rgba(255,255,0,0.28)'\n    }];\n    this.lineChartLegend = true;\n    this.lineChartPlugins = [];\n    this.lineChartType = 'line';\n    this.typeData = [];\n  }\n  ngOnInit() {\n    this.getTransactionsss();\n  }\n  getTransactionsss() {\n    this.lineChartData = [];\n    this.lineChartLabels = [];\n    this.taskService.getTransactions().subscribe(d => {\n      console.log(d);\n      const data = {\n        data: [],\n        label: 'Crude oil prices'\n      };\n      d.forEach(dateIDt => {\n        var _a;\n        console.log(dateAmount.datetransaction);\n        console.log(dateAmount.amount); // Utiliser la propriété 'amount' plutôt que 'id'\n        if (dateAmount.datetransaction instanceof Date) {\n          (_a = data.data) === null || _a === void 0 ? void 0 : _a.push(dateAmount.amount);\n          this.lineChartLabels.push(dateAmount.datetransaction.toLocaleDateString());\n        }\n      });\n      this.lineChartData.push(data);\n    }, error => {\n      console.error(error);\n    });\n  }\n}\nSalesByMonthComponent.ɵfac = function SalesByMonthComponent_Factory(t) {\n  return new (t || SalesByMonthComponent)(i0.ɵɵdirectiveInject(i1.TransactionServiceService));\n};\nSalesByMonthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SalesByMonthComponent,\n  selectors: [[\"app-sales-by-month\"]],\n  decls: 2,\n  vars: 7,\n  consts: [[1, \"chart-wrapper\"], [\"baseChart\", \"\", 3, \"datasets\", \"labels\", \"options\", \"colors\", \"legend\", \"chartType\", \"plugins\"]],\n  template: function SalesByMonthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"canvas\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"datasets\", ctx.lineChartData)(\"labels\", ctx.lineChartLabels)(\"options\", ctx.lineChartOptions)(\"colors\", ctx.lineChartColors)(\"legend\", ctx.lineChartLegend)(\"chartType\", ctx.lineChartType)(\"plugins\", ctx.lineChartPlugins);\n    }\n  },\n  dependencies: [i2.BaseChartDirective],\n  styles: [\"@charset \\\"UTF-8\\\";\\n.chart-wrapper[_ngcontent-%COMP%] {\\n  width: 600px; \\n  height: 400px; \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9hZG1pbi1mZWF0dXJlcy9zYWxlcy1ieS1tb250aC9zYWxlcy1ieS1tb250aC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFBaEI7RUFDRSxZQUFBLEVBQUEsb0NBQUE7RUFDQSxhQUFBLEVBQUEsb0NBQUE7QUFFRiIsInNvdXJjZXNDb250ZW50IjpbIi5jaGFydC13cmFwcGVyIHtcclxuICB3aWR0aDogNjAwcHg7IC8qIETDg8KpZmluaXNzZXogbGEgbGFyZ2V1ciBzb3VoYWl0w4PCqWUgKi9cclxuICBoZWlnaHQ6IDQwMHB4OyAvKiBEw4PCqWZpbmlzc2V6IGxhIGhhdXRldXIgc291aGFpdMODwqllICovXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;AAcA,OAAM,MAAOA,qBAAqB;EAqBhCC,YAAoBC,WAAqC;IAArC,gBAAW,GAAXA,WAAW;IAnB/B,kBAAa,GAAoB,EAEhC;IACD,oBAAe,GAAY,EAAE;IAC7B,qBAAgB,GAAG;MACjBC,UAAU,EAAE;KACb;IACD,oBAAe,GAAY,CACzB;MACEC,WAAW,EAAE,OAAO;MACpBC,eAAe,EAAE;KAClB,CACF;IACD,oBAAe,GAAG,IAAI;IACtB,qBAAgB,GAAG,EAAE;IACrB,kBAAa,GAAc,MAAM;IAG1B,aAAQ,GAAwB,EAAE;EACoB;EAE7DC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAEAA,iBAAiB;IACf,IAAI,CAACC,aAAa,GAAG,EAAE;IACvB,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAACP,WAAW,CAACQ,eAAe,EAAE,CAACC,SAAS,CACzCC,CAAC,IAAI;MACJC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACd,MAAMG,IAAI,GAAkB;QAAEA,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAkB,CAAE;MACnEJ,CAAC,CAACK,OAAO,CAAEC,OAAqB,IAAI;;QAClCL,OAAO,CAACC,GAAG,CAACK,UAAU,CAACC,eAAe,CAAC;QACvCP,OAAO,CAACC,GAAG,CAACK,UAAU,CAACE,MAAM,CAAC,CAAC,CAAC;QAChC,IAAIF,UAAU,CAACC,eAAe,YAAYE,IAAI,EAAE;UAC9C,UAAI,CAACP,IAAI,0CAAEQ,IAAI,CAACJ,UAAU,CAACE,MAAM,CAAC;UAClC,IAAI,CAACZ,eAAe,CAACc,IAAI,CAACJ,UAAU,CAACC,eAAe,CAACI,kBAAkB,EAAE,CAAC;;MAE9E,CAAC,CAAC;MACF,IAAI,CAAChB,aAAa,CAACe,IAAI,CAACR,IAAI,CAAC;IAC/B,CAAC,EACAU,KAAK,IAAI;MACRZ,OAAO,CAACY,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;EACH;;;mBAhDWzB,qBAAqB;AAAA;;QAArBA,qBAAqB;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdlCC,8BAA2B;MACvBA,4BAQS;MACbA,iBAAM;;;MAREA,eAA0B;MAA1BA,4CAA0B","names":["SalesByMonthComponent","constructor","taskService","responsive","borderColor","backgroundColor","ngOnInit","getTransactionsss","lineChartData","lineChartLabels","getTransactions","subscribe","d","console","log","data","label","forEach","dateIDt","dateAmount","datetransaction","amount","Date","push","toLocaleDateString","error","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\aicha\\Desktop\\pfe\\src\\app\\components\\admin\\admin-features\\sales-by-month\\sales-by-month.component.ts","C:\\Users\\aicha\\Desktop\\pfe\\src\\app\\components\\admin\\admin-features\\sales-by-month\\sales-by-month.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Chart } from 'angular-highcharts';\r\nimport { ChartDataSets, ChartOptions, ChartType } from 'chart.js';\r\nimport { Color, Label } from 'ng2-charts';\r\nimport { ITypePercentage } from '../Transaction.interface';\r\nimport { Transactions } from '../Transactions';\r\nimport { TransactionServiceService } from '../transaction-service.service';\r\n\r\n@Component({\r\n  selector: 'app-sales-by-month',\r\n  templateUrl: './sales-by-month.component.html',\r\n  styleUrls: ['./sales-by-month.component.scss']\r\n})\r\n\r\nexport class SalesByMonthComponent implements OnInit {\r\n \r\n  lineChartData: ChartDataSets[] = [\r\n   \r\n  ];\r\n  lineChartLabels: Label[] = [];\r\n  lineChartOptions = {\r\n    responsive: true,\r\n  };\r\n  lineChartColors: Color[] = [\r\n    {\r\n      borderColor: 'black',\r\n      backgroundColor: 'rgba(255,255,0,0.28)',\r\n    },\r\n  ];\r\n  lineChartLegend = true;\r\n  lineChartPlugins = [];\r\n  lineChartType: ChartType = 'line';  \r\n\r\n\r\n  public typeData: Array<Transactions> = [];\r\n  constructor(private taskService:TransactionServiceService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getTransactionsss();\r\n  }\r\n\r\n  getTransactionsss() {\r\n    this.lineChartData = [];\r\n    this.lineChartLabels = [];\r\n    this.taskService.getTransactions().subscribe(\r\n      (d) => {\r\n        console.log(d);\r\n        const data: ChartDataSets = { data: [], label: 'Crude oil prices' };\r\n        d.forEach((dateIDt: Transactions) => {\r\n          console.log(dateAmount.datetransaction);\r\n          console.log(dateAmount.amount); // Utiliser la propriété 'amount' plutôt que 'id'\r\n          if (dateAmount.datetransaction instanceof Date) {\r\n            data.data?.push(dateAmount.amount);\r\n            this.lineChartLabels.push(dateAmount.datetransaction.toLocaleDateString());\r\n          }\r\n        });\r\n        this.lineChartData.push(data);\r\n      },\r\n      (error) => {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n}  ","<div class=\"chart-wrapper\">\r\n    <canvas baseChart \r\n        [datasets]=\"lineChartData\" \r\n        [labels]=\"lineChartLabels\" \r\n        [options]=\"lineChartOptions\"\r\n        [colors]=\"lineChartColors\" \r\n        [legend]=\"lineChartLegend\" \r\n        [chartType]=\"lineChartType\" \r\n        [plugins]=\"lineChartPlugins\">\r\n    </canvas>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}